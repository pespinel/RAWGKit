{"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/rawgkit.RAWGKit\/documentation\/RAWGKit\/AdvancedFeatures"},"kind":"article","sections":[],"abstract":[{"text":"Master complex queries, pagination, and advanced RAWGKit capabilities.","type":"text"}],"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","type":"heading","level":2,"text":"Overview"},{"inlineContent":[{"type":"text","text":"This guide covers advanced RAWGKit features including the query builder, AsyncSequence pagination, caching strategies, and custom network configurations."}],"type":"paragraph"},{"anchor":"Query-Builder","type":"heading","level":2,"text":"Query Builder"},{"inlineContent":[{"text":"The ","type":"text"},{"identifier":"doc:\/\/rawgkit.RAWGKit\/documentation\/RAWGKit\/GamesQueryBuilder","isActive":true,"type":"reference"},{"text":" provides a fluent, type-safe API for constructing complex game queries.","type":"text"}],"type":"paragraph"},{"anchor":"Basic-Query-Building","type":"heading","level":3,"text":"Basic Query Building"},{"type":"codeListing","syntax":"swift","code":["import RAWGKit","","let response = try await client.gamesQuery()","    .search(\"witcher\")","    .orderByRating()","    .year(2015)","    .pageSize(20)","    .execute(with: client)","","print(\"Found \\(response.count) games\")"]},{"anchor":"Type-Safe-Filters","type":"heading","level":3,"text":"Type-Safe Filters"},{"inlineContent":[{"text":"Use enums instead of magic numbers for platforms, genres, and stores:","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["\/\/ Platforms","let query = client.gamesQuery()","    .platforms([.pc, .playStation5, .xboxSeriesX, .nintendoSwitch])","","\/\/ Parent platforms (groups)","let consoleQuery = client.gamesQuery()","    .parentPlatforms([.playStation, .xbox, .nintendo])","","\/\/ Genres","let rpgQuery = client.gamesQuery()","    .genres([.rpg, .action, .adventure])","","\/\/ Stores","let storeQuery = client.gamesQuery()","    .stores([.steam, .epicGames, .playStationStore])","","\/\/ Ordering","let sortedQuery = client.gamesQuery()","    .ordering(.metacriticDescending)"]},{"anchor":"Date-Filtering","type":"heading","level":3,"text":"Date Filtering"},{"inlineContent":[{"type":"text","text":"Filter games by release date using convenient date helpers:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["\/\/ Games from this year","let thisYear = try await client.gamesQuery()","    .releasedThisYear()","    .execute(with: client)","","\/\/ Games from last 30 days","let recent = try await client.gamesQuery()","    .releasedInLast(days: 30)","    .execute(with: client)","","\/\/ Games in a date range","let dateRange = try await client.gamesQuery()","    .releasedBetween(","        from: Date(timeIntervalSince1970: 1609459200), \/\/ Jan 1, 2021","        to: Date(timeIntervalSince1970: 1640995200)    \/\/ Jan 1, 2022","    )","    .execute(with: client)","","\/\/ Games released after a date","let afterDate = try await client.gamesQuery()","    .releasedAfter(someDate)","    .execute(with: client)","","\/\/ Games released before a date","let beforeDate = try await client.gamesQuery()","    .releasedBefore(someDate)","    .execute(with: client)"]},{"anchor":"Metacritic-Scores","type":"heading","level":3,"text":"Metacritic Scores"},{"inlineContent":[{"type":"text","text":"Filter by Metacritic score ranges:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["\/\/ Highly rated games (80+)","let highlyRated = try await client.gamesQuery()","    .metacritic(min: 80, max: 100)","    .execute(with: client)","","\/\/ Minimum score only","let decentGames = try await client.gamesQuery()","    .metacriticMin(70)","    .execute(with: client)"]},{"anchor":"Complex-Queries","type":"heading","level":3,"text":"Complex Queries"},{"inlineContent":[{"text":"Combine multiple filters for precise results:","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["let query = try await client.gamesQuery()","    .search(\"cyberpunk\")","    .searchExact() \/\/ Exact match","    .platforms([.pc, .playStation5])","    .genres([.rpg, .action])","    .releasedBetween(","        from: Date(timeIntervalSince1970: 1577836800), \/\/ 2020","        to: Date(timeIntervalSince1970: 1609459200)    \/\/ 2021","    )","    .metacritic(min: 75, max: 100)","    .orderByMetacriticDescending()","    .pageSize(20)","    .execute(with: client)","","print(\"Found \\(query.count) matching games\")"]},{"anchor":"AsyncSequence-Pagination","type":"heading","level":2,"text":"AsyncSequence Pagination"},{"inlineContent":[{"text":"Stream large result sets efficiently using AsyncSequence:","type":"text"}],"type":"paragraph"},{"anchor":"Games-Sequence","type":"heading","level":3,"text":"Games Sequence"},{"type":"codeListing","syntax":"swift","code":["\/\/ Iterate through all games matching a query","for try await game in await client.gamesSequence(","    search: \"zelda\",","    pageSize: 20",") {","    print(game.name)","","    \/\/ Process games as they stream in","    \/\/ Break early if needed","    if someCondition {","        break","    }","}"]},{"anchor":"Other-Resource-Sequences","type":"heading","level":3,"text":"Other Resource Sequences"},{"type":"codeListing","syntax":"swift","code":["\/\/ All genres","for try await genre in await client.genresSequence() {","    print(\"\\(genre.name): \\(genre.gamesCount ?? 0) games\")","}","","\/\/ All platforms","for try await platform in await client.platformsSequence() {","    print(platform.name)","}","","\/\/ Developers","for try await developer in await client.developersSequence() {","    print(developer.name)","}","","\/\/ Publishers","for try await publisher in await client.publishersSequence() {","    print(publisher.name)","}","","\/\/ Stores","for try await store in await client.storesSequence() {","    print(store.name)","}","","\/\/ Tags","for try await tag in await client.tagsSequence() {","    print(tag.name)","}","","\/\/ Creators","for try await creator in await client.creatorsSequence() {","    print(creator.name)","}"]},{"anchor":"Task-Cancellation","type":"heading","level":3,"text":"Task Cancellation"},{"inlineContent":[{"text":"AsyncSequences respect task cancellation:","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["let task = Task {","    var gameNames: [String] = []","","    for try await game in await client.gamesSequence(pageSize: 20) {","        gameNames.append(game.name)","","        if gameNames.count >= 100 {","            break","        }","    }","","    return gameNames","}","","\/\/ Cancel if needed","task.cancel()","","\/\/ The sequence will stop fetching new pages","let result = await task.result"]},{"anchor":"Caching","type":"heading","level":2,"text":"Caching"},{"inlineContent":[{"text":"RAWGKit includes intelligent caching to reduce API calls and improve performance.","type":"text"}],"type":"paragraph"},{"anchor":"Cache-Configuration","type":"heading","level":3,"text":"Cache Configuration"},{"type":"codeListing","syntax":"swift","code":["\/\/ Caching is enabled by default","let client = RAWGClient(apiKey: \"YOUR_API_KEY_HERE\")","","\/\/ Disable caching if needed","let noCacheClient = RAWGClient(","    apiKey: \"YOUR_API_KEY_HERE\",","    cacheEnabled: false",")"]},{"anchor":"Cache-Management","type":"heading","level":3,"text":"Cache Management"},{"type":"codeListing","syntax":"swift","code":["\/\/ Clear all cached data","await client.clearCache()","","\/\/ Get cache statistics","let stats = await client.cacheStats()","print(\"Cached entries: \\(stats.totalEntries)\")","print(\"Cache hits: \\(stats.hits)\")","print(\"Cache misses: \\(stats.misses)\")","print(\"Hit ratio: \\(stats.hitRatio)%\")"]},{"anchor":"How-Caching-Works","type":"heading","level":3,"text":"How Caching Works"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"NSCache-based"}]},{"text":": Automatic memory eviction under system pressure","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"TTL Support"}]},{"type":"text","text":": Entries expire after 5 minutes by default"}]}]},{"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"Thread-safe"}],"type":"strong"},{"text":": Safe to use from any thread\/task","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Size-aware"}]},{"type":"text","text":": Uses data size as cost for intelligent eviction"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Default Limits","type":"text"}],"type":"strong"},{"text":": 100 entries, 10MB total cost","type":"text"}]}]}]},{"anchor":"Custom-Network-Configuration","type":"heading","level":2,"text":"Custom Network Configuration"},{"anchor":"Custom-URLSession","type":"heading","level":3,"text":"Custom URLSession"},{"inlineContent":[{"type":"text","text":"Provide a custom URLSession for testing or special configurations:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["let config = URLSessionConfiguration.default","config.timeoutIntervalForRequest = 60","config.timeoutIntervalForResource = 120","","let session = URLSession(configuration: config)","let networkManager = NetworkManager(","    apiKey: \"YOUR_API_KEY_HERE\",","    session: session",")","","let client = RAWGClient(networkManager: networkManager)"]},{"anchor":"Network-Manager-Protocol","type":"heading","level":3,"text":"Network Manager Protocol"},{"inlineContent":[{"type":"text","text":"Implement "},{"type":"reference","identifier":"doc:\/\/rawgkit.RAWGKit\/documentation\/RAWGKit\/NetworkManaging","isActive":true},{"type":"text","text":" for complete control:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["import RAWGKit","","class CustomNetworkManager: NetworkManaging {","    func request<T: Decodable>(","        endpoint: RAWGEndpoint,","        page: Int?,","        pageSize: Int?","    ) async throws -> T {","        \/\/ Your custom implementation","        \/\/ Can add custom logging, metrics, etc.","    }","}","","let client = RAWGClient(networkManager: CustomNetworkManager())"]},{"anchor":"Retry-Policy","type":"heading","level":2,"text":"Retry Policy"},{"inlineContent":[{"text":"Configure automatic retries for transient failures:","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["\/\/ Default retry policy","\/\/ - 3 max retries","\/\/ - Exponential backoff (1s, 2s, 4s)","\/\/ - Retries on: timeout, connection errors, 5xx errors","","\/\/ Custom retry policy","let customPolicy = RetryPolicy(","    maxRetries: 5,","    initialDelay: 2.0,","    backoffStrategy: .exponential",")","","let networkManager = NetworkManager(","    apiKey: \"YOUR_API_KEY_HERE\",","    retryPolicy: customPolicy",")","","let client = RAWGClient(networkManager: networkManager)"]},{"anchor":"Retry-Behavior","type":"heading","level":3,"text":"Retry Behavior"},{"inlineContent":[{"type":"text","text":"The retry policy automatically retries:"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Network timeouts"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Connection errors (no internet)"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Server errors (5xx status codes)","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Rate limiting (respects ","type":"text"},{"type":"codeVoice","code":"Retry-After"},{"text":" header)","type":"text"}]}]}]},{"inlineContent":[{"text":"It does NOT retry:","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Client errors (4xx) - these indicate a problem with the request"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Decoding errors - the data format is wrong","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Unauthorized errors - the API key is invalid","type":"text"}]}]}]},{"anchor":"Request-Deduplication","type":"heading","level":2,"text":"Request Deduplication"},{"inlineContent":[{"type":"text","text":"RAWGKit automatically deduplicates concurrent requests to the same endpoint:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["\/\/ Both calls execute simultaneously","\/\/ Only ONE network request is made","async let games1 = client.fetchGameDetail(id: 3328)","async let games2 = client.fetchGameDetail(id: 3328)","","let (result1, result2) = try await (games1, games2)","","\/\/ Both results are identical","\/\/ Saved API quota and improved performance"]},{"anchor":"Convenience-Methods","type":"heading","level":2,"text":"Convenience Methods"},{"inlineContent":[{"type":"text","text":"Quick access to common queries:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["\/\/ Popular games (last 30 days, metacritic 75+)","let popular = try await client.fetchPopularGames()","","\/\/ New releases (last 7 days)","let newReleases = try await client.fetchNewReleases()","","\/\/ Upcoming games (next 180 days)","let upcoming = try await client.fetchUpcomingGames()","","\/\/ Top rated (metacritic 90+)","let topRated = try await client.fetchTopRated()","","\/\/ This year's releases","let thisYear = try await client.fetchThisYear()","","\/\/ Trending (last 60 days, metacritic 70+)","let trending = try await client.fetchTrendingGames()"]},{"anchor":"Next-Steps","type":"heading","level":2,"text":"Next Steps"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Learn about ","type":"text"},{"text":"doc:Security","type":"text"},{"text":" features like certificate pinning and Keychain storage","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Explore "},{"type":"reference","identifier":"doc:\/\/rawgkit.RAWGKit\/documentation\/RAWGKit\/Performance","isActive":true},{"type":"text","text":" optimization techniques"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Review the demo app at "},{"type":"codeVoice","code":"Examples\/RAWGKitDemo\/"},{"type":"text","text":" for real-world usage"}]}]}]}]}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/rawgkit\/advancedfeatures"]}],"schemaVersion":{"patch":0,"minor":3,"major":0},"hierarchy":{"paths":[["doc:\/\/rawgkit.RAWGKit\/documentation\/RAWGKit"]]},"seeAlsoSections":[{"anchor":"Advanced-Features","identifiers":["doc:\/\/rawgkit.RAWGKit\/documentation\/RAWGKit\/Performance"],"generated":true,"title":"Advanced Features"}],"metadata":{"role":"article","roleHeading":"Article","modules":[{"name":"RAWGKit"}],"title":"Advanced Features"},"references":{"doc://rawgkit.RAWGKit/documentation/RAWGKit/Performance":{"type":"topic","identifier":"doc:\/\/rawgkit.RAWGKit\/documentation\/RAWGKit\/Performance","role":"article","abstract":[{"type":"text","text":"Optimize your app’s performance with RAWGKit’s built-in features and best practices."}],"url":"\/documentation\/rawgkit\/performance","kind":"article","title":"Performance"},"doc://rawgkit.RAWGKit/documentation/RAWGKit/GamesQueryBuilder":{"title":"GamesQueryBuilder","type":"topic","identifier":"doc:\/\/rawgkit.RAWGKit\/documentation\/RAWGKit\/GamesQueryBuilder","kind":"symbol","url":"\/documentation\/rawgkit\/gamesquerybuilder","abstract":[{"type":"text","text":"Fluent builder for constructing complex game search queries."}],"role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"GamesQueryBuilder","kind":"identifier"}],"navigatorTitle":[{"text":"GamesQueryBuilder","kind":"identifier"}]},"doc://rawgkit.RAWGKit/documentation/RAWGKit/NetworkManaging":{"abstract":[{"type":"text","text":"Protocol defining the contract for network management operations."}],"type":"topic","identifier":"doc:\/\/rawgkit.RAWGKit\/documentation\/RAWGKit\/NetworkManaging","url":"\/documentation\/rawgkit\/networkmanaging","title":"NetworkManaging","kind":"symbol","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"NetworkManaging","kind":"identifier"}],"navigatorTitle":[{"text":"NetworkManaging","kind":"identifier"}],"role":"symbol"},"doc://rawgkit.RAWGKit/documentation/RAWGKit":{"abstract":[{"type":"text","text":"A modern, Swift-native SDK for the RAWG Video Games Database API with first-class SwiftUI support."}],"role":"collection","title":"RAWGKit","kind":"symbol","identifier":"doc:\/\/rawgkit.RAWGKit\/documentation\/RAWGKit","url":"\/documentation\/rawgkit","type":"topic"}}}